# üîÆ –ë–™–î–ï–©–ò –ü–û–î–û–ë–†–ï–ù–ò–Ø - Crypto Signal Bot

**–î–∞—Ç–∞:** 23 –ù–æ–µ–º–≤—Ä–∏ 2025  
**–í–µ—Ä—Å–∏—è:** Roadmap v1.0  
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω–∏—Ä–∞–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìã –û–ë–© –ü–†–ï–ì–õ–ï–î

–¢–æ–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å—ä–¥—ä—Ä–∂–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∑–∞ –±—ä–¥–µ—â–∏ –ø–æ–¥–æ–±—Ä–µ–Ω–∏—è –Ω–∞ Crypto Signal Bot. –í—Å—è–∫–æ –ø–æ–¥–æ–±—Ä–µ–Ω–∏–µ –µ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–∞–Ω–æ –∏ –≤–∫–ª—é—á–≤–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –¥–µ—Ç–∞–π–ª–∏ –∑–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è.

---

## üéØ –ü–†–ò–û–†–ò–¢–ò–ó–ê–¶–ò–Ø

| # | –§—É–Ω–∫—Ü–∏—è | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç | –í—Ä–µ–º–µ | –°—Ç–æ–π–Ω–æ—Å—Ç |
|---|---------|-----------|----------|-------|----------|
| 1 | üì± Telegram Alert | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –í–∏—Å–æ–∫ | –õ–µ—Å–Ω–∞ | 2h | –í–∏—Å–æ–∫–∞ |
| 2 | üîÑ Auto-Restart | ‚≠ê‚≠ê‚≠ê‚≠ê –í–∏—Å–æ–∫ | –°—Ä–µ–¥–Ω–∞ | 4h | –í–∏—Å–æ–∫–∞ |
| 3 | üìà Performance Monitoring | ‚≠ê‚≠ê‚≠ê‚≠ê –°—Ä–µ–¥–Ω–æ-–≤–∏—Å–æ–∫ | –°—Ä–µ–¥–Ω–∞ | 6h | –°—Ä–µ–¥–Ω–∞ |
| 4 | üß™ Unit Tests | ‚≠ê‚≠ê‚≠ê –°—Ä–µ–¥–Ω–æ | –°—Ä–µ–¥–Ω–∞ | 8h | –°—Ä–µ–¥–Ω–∞ |
| 5 | üìß Email Notifications | ‚≠ê‚≠ê‚≠ê –°—Ä–µ–¥–Ω–æ | –õ–µ—Å–Ω–∞ | 3h | –°—Ä–µ–¥–Ω–∞ |
| 6 | üåê Web Interface | ‚≠ê‚≠ê –ù–∏—Å—ä–∫ | –í–∏—Å–æ–∫–∞ | 20h | –í–∏—Å–æ–∫–∞ |
| 7 | üìä Grafana Dashboard | ‚≠ê‚≠ê –ù–∏—Å—ä–∫ | –í–∏—Å–æ–∫–∞ | 16h | –°—Ä–µ–¥–Ω–∞ |
| 8 | üíæ Database Migration | ‚≠ê –ù–∏—Å—ä–∫ | –í–∏—Å–æ–∫–∞ | 24h | –ù–∏—Å–∫–∞ |

---

## 1. üì± TELEGRAM ALERT –°–ò–°–¢–ï–ú–ê

### üéØ –¶–µ–ª:
–ò–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ–Ω –æ—Ç—á–µ—Ç –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤ Telegram –ø—Ä–∏ –æ—Ç–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏.

### üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –í–ò–°–û–ö
**–ó–∞—â–æ:** –ù–µ–∑–∞–±–∞–≤–Ω–∏ –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ª–µ—Å–Ω–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è, –≤–∏—Å–æ–∫–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç.

### üîß –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è:

```python
# –í diagnostics.py

async def send_telegram_alert(bot_token, chat_id, message, file_path=None):
    """–ò–∑–ø—Ä–∞—â–∞ Telegram –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"""
    from telegram import Bot
    
    bot = Bot(token=bot_token)
    
    # –ò–∑–ø—Ä–∞—Ç–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ —Å—ä–æ–±—â–µ–Ω–∏–µ
    await bot.send_message(
        chat_id=chat_id,
        text=f"üîß –î–ò–ê–ì–ù–û–°–¢–ò–ß–ù–ê –ê–õ–ê–†–ú–ê!\n\n{message}",
        disable_notification=False
    )
    
    # –ò–∑–ø—Ä–∞—Ç–∏ —Ñ–∞–π–ª –∞–∫–æ –∏–º–∞
    if file_path:
        with open(file_path, 'rb') as f:
            await bot.send_document(
                chat_id=chat_id,
                document=f,
                caption="üìã –ü—ä–ª–µ–Ω –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ–Ω –æ—Ç—á–µ—Ç"
            )

# –í generate_report():
if self.issues_found:
    asyncio.run(send_telegram_alert(
        TELEGRAM_BOT_TOKEN,
        OWNER_CHAT_ID,
        f"–û—Ç–∫—Ä–∏—Ç–∏ {len(self.issues_found)} –ø—Ä–æ–±–ª–µ–º–∞!",
        report_file
    ))
```

### ‚úÖ –ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:
- –ù–µ–∑–∞–±–∞–≤–Ω–∏ –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- –ò–∑–ø–æ–ª–∑–≤–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏—è Telegram bot
- –ù–µ –∏–∑–∏—Å–∫–≤–∞ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –æ—Ç—á–µ—Ç–∏

### üìù –°—Ç—ä–ø–∫–∏:
1. –î–æ–±–∞–≤–∏ async —Ñ—É–Ω–∫—Ü–∏—è –∑–∞ Telegram –≤ `diagnostics.py`
2. Import –Ω–∞ bot credentials –æ—Ç `credentials.json`
3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–∞–π –≤ `generate_report()`
4. –¢–µ—Å—Ç–≤–∞–π —Å —Å–∏–º—É–ª–∏—Ä–∞–Ω –ø—Ä–æ–±–ª–µ–º

**–û—á–∞–∫–≤–∞–Ω–æ –≤—Ä–µ–º–µ:** 2 —á–∞—Å–∞

---

## 2. üîÑ AUTO-RESTART –°–ò–°–¢–ï–ú–ê

### üéØ –¶–µ–ª:
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω restart –Ω–∞ –±–æ—Ç–∞ –ø—Ä–∏ crash —Å –ø—Ä–µ–¥–ø–∞–∑–Ω–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∏.

### üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ‚≠ê‚≠ê‚≠ê‚≠ê –í–ò–°–û–ö
**–ó–∞—â–æ:** –ì–∞—Ä–∞–Ω—Ç–∏—Ä–∞ 24/7 uptime, –ø—Ä–µ–≤–µ–Ω—Ü–∏—è –Ω–∞ downtime.

### üîß –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è:

#### –û–ø—Ü–∏—è 1: Systemd Service (–ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–º)

```bash
# /etc/systemd/system/crypto-bot.service

[Unit]
Description=Crypto Signal Bot
After=network.target

[Service]
Type=simple
User=codespace
WorkingDirectory=/workspaces/Crypto-signal-bot
ExecStart=/workspaces/Crypto-signal-bot/.venv/bin/python bot.py
Restart=always
RestartSec=10
StandardOutput=append:/workspaces/Crypto-signal-bot/bot.log
StandardError=append:/workspaces/Crypto-signal-bot/bot.log

# –ü—Ä–µ–¥–ø–∞–∑–Ω–∏ –º–µ—Ä–∫–∏
StartLimitInterval=200
StartLimitBurst=5

[Install]
WantedBy=multi-user.target
```

–ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ:
```bash
sudo systemctl enable crypto-bot.service
sudo systemctl start crypto-bot.service
sudo systemctl status crypto-bot.service
```

#### –û–ø—Ü–∏—è 2: Supervisor

```ini
# /etc/supervisor/conf.d/crypto-bot.conf

[program:crypto-bot]
command=/workspaces/Crypto-signal-bot/.venv/bin/python bot.py
directory=/workspaces/Crypto-signal-bot
user=codespace
autostart=true
autorestart=true
startsecs=10
startretries=5
stdout_logfile=/workspaces/Crypto-signal-bot/bot.log
stderr_logfile=/workspaces/Crypto-signal-bot/bot_error.log
```

#### –û–ø—Ü–∏—è 3: Watchdog —Å–∫—Ä–∏–ø—Ç

```bash
#!/bin/bash
# admin/watchdog.sh

while true; do
    if ! pgrep -f "python.*bot.py" > /dev/null; then
        echo "[$(date)] Bot crash detected! Restarting..." >> watchdog.log
        cd /workspaces/Crypto-signal-bot
        source .venv/bin/activate
        nohup python bot.py > bot.log 2>&1 &
        echo "[$(date)] Bot restarted. PID: $!" >> watchdog.log
    fi
    sleep 60  # –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –Ω–∞ –≤—Å—è–∫–∞ –º–∏–Ω—É—Ç–∞
done
```

### ‚úÖ –ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω recovery –ø—Ä–∏ crash
- –õ–æ–≥–≤–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ restarts
- –ü—Ä–µ–¥–ø–∞–∑–Ω–∏ –º–µ—Ä–∫–∏ —Å—Ä–µ—â—É restart loops
- 99.9% uptime

### ‚ö†Ô∏è –ü—Ä–µ–¥–ø–∞–∑–Ω–∏ –º–µ—Ä–∫–∏:
- –ú–∞–∫—Å–∏–º—É–º 5 restarts –∑–∞ 200 —Å–µ–∫—É–Ω–¥–∏ (–ø—Ä–∏ systemd)
- –õ–æ–≥–≤–∞–Ω–µ –Ω–∞ –ø—Ä–∏—á–∏–Ω–∏—Ç–µ –∑–∞ crash
- Telegram alert –ø—Ä–∏ restart

**–û—á–∞–∫–≤–∞–Ω–æ –≤—Ä–µ–º–µ:** 4 —á–∞—Å–∞

---

## 3. üìà PERFORMANCE MONITORING

### üéØ –¶–µ–ª:
Tracking –Ω–∞ CPU, RAM, Network usage –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ.

### üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ‚≠ê‚≠ê‚≠ê‚≠ê –°–†–ï–î–ù–û-–í–ò–°–û–ö
**–ó–∞—â–æ:** –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, prediction –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏.

### üîß –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è:

```python
# admin/performance_monitor.py

import psutil
import time
from datetime import datetime

class PerformanceMonitor:
    def __init__(self, bot_pid):
        self.bot_pid = bot_pid
        self.process = psutil.Process(bot_pid)
        
    def get_metrics(self):
        """–°—ä–±–∏—Ä–∞ —Ç–µ–∫—É—â–∏ –º–µ—Ç—Ä–∏–∫–∏"""
        return {
            'timestamp': datetime.now().isoformat(),
            'cpu_percent': self.process.cpu_percent(interval=1),
            'memory_mb': self.process.memory_info().rss / 1024 / 1024,
            'memory_percent': self.process.memory_percent(),
            'threads': self.process.num_threads(),
            'open_files': len(self.process.open_files()),
            'connections': len(self.process.connections()),
            'io_read_mb': self.process.io_counters().read_bytes / 1024 / 1024,
            'io_write_mb': self.process.io_counters().write_bytes / 1024 / 1024
        }
    
    def check_thresholds(self, metrics):
        """–ü—Ä–æ–≤–µ—Ä—è–≤–∞ –∑–∞ abnormal usage"""
        alerts = []
        
        if metrics['cpu_percent'] > 80:
            alerts.append(f"‚ö†Ô∏è –í–∏—Å–æ–∫–æ CPU: {metrics['cpu_percent']}%")
        
        if metrics['memory_mb'] > 500:
            alerts.append(f"‚ö†Ô∏è –í–∏—Å–æ–∫–∞ –ø–∞–º–µ—Ç: {metrics['memory_mb']:.1f}MB")
        
        if metrics['threads'] > 50:
            alerts.append(f"‚ö†Ô∏è –ú–Ω–æ–≥–æ threads: {metrics['threads']}")
        
        return alerts
```

### üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:

```python
import matplotlib.pyplot as plt
import pandas as pd

def plot_performance(metrics_file):
    """–ì–µ–Ω–µ—Ä–∏—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∏ –Ω–∞ performance"""
    df = pd.read_json(metrics_file, lines=True)
    
    fig, axes = plt.subplots(2, 2, figsize=(15, 10))
    
    # CPU usage
    axes[0, 0].plot(df['timestamp'], df['cpu_percent'])
    axes[0, 0].set_title('CPU Usage (%)')
    
    # Memory usage
    axes[0, 1].plot(df['timestamp'], df['memory_mb'])
    axes[0, 1].set_title('Memory Usage (MB)')
    
    # Threads
    axes[1, 0].plot(df['timestamp'], df['threads'])
    axes[1, 0].set_title('Active Threads')
    
    # I/O
    axes[1, 1].plot(df['timestamp'], df['io_read_mb'], label='Read')
    axes[1, 1].plot(df['timestamp'], df['io_write_mb'], label='Write')
    axes[1, 1].set_title('I/O (MB)')
    axes[1, 1].legend()
    
    plt.tight_layout()
    plt.savefig('performance_report.png')
```

### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install psutil
```

**–û—á–∞–∫–≤–∞–Ω–æ –≤—Ä–µ–º–µ:** 6 —á–∞—Å–∞

---

## 4. üß™ UNIT TESTS

### üéØ –¶–µ–ª:
–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ –∑–∞ –∫—Ä–∏—Ç–∏—á–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏.

### üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ‚≠ê‚≠ê‚≠ê –°–†–ï–î–ù–û
**–ó–∞—â–æ:** –ü—Ä–µ–≤–µ–Ω—Ü–∏—è –Ω–∞ regression bugs, quality assurance.

### üîß –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è:

```python
# tests/test_signals.py

import pytest
from bot import (
    calculate_macd, calculate_bollinger, calculate_rsi,
    detect_head_shoulders, detect_double_top
)

class TestIndicators:
    def test_macd_calculation(self):
        """–¢–µ—Å—Ç –Ω–∞ MACD –∫–∞–ª–∫—É–ª–∞—Ü–∏—è"""
        prices = [100, 102, 101, 103, 105, 104, 106]
        macd, signal = calculate_macd(prices)
        assert macd is not None
        assert signal is not None
        
    def test_rsi_range(self):
        """RSI —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –º–µ–∂–¥—É 0 –∏ 100"""
        prices = [100] * 14 + [110, 115, 120]
        rsi = calculate_rsi(prices)
        assert 0 <= rsi <= 100
        
    def test_bollinger_bands(self):
        """Bollinger bands —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞—Ç middle < upper"""
        prices = [100, 102, 101, 103, 105]
        upper, middle, lower = calculate_bollinger(prices)
        assert lower < middle < upper

class TestPatterns:
    def test_head_shoulders_detection(self):
        """–¢–µ—Å—Ç –Ω–∞ Head & Shoulders pattern"""
        # –°–∏–º—É–ª–∏—Ä–∞–Ω–∏ –¥–∞–Ω–Ω–∏ —Å H&S pattern
        prices = [100, 110, 105, 120, 105, 110, 100]
        result = detect_head_shoulders(prices)
        assert result in [True, False]

# tests/test_diagnostics.py

from diagnostics import BotDiagnostics

class TestDiagnostics:
    def test_file_check(self):
        """–¢–µ—Å—Ç –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ"""
        diag = BotDiagnostics()
        diag.check_critical_files()
        assert len(diag.issues_found) >= 0
    
    def test_json_validation(self):
        """–¢–µ—Å—Ç –Ω–∞ JSON –≤–∞–ª–∏–¥–∞—Ü–∏—è"""
        diag = BotDiagnostics()
        diag.check_json_integrity()
        # –ù–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ exception
```

### üöÄ –ò–∑–ø—ä–ª–Ω–µ–Ω–∏–µ:

```bash
# –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π pytest
pip install pytest pytest-cov

# –ü—É—Å–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ
pytest tests/ -v

# –° coverage report
pytest tests/ --cov=. --cov-report=html
```

**–û—á–∞–∫–≤–∞–Ω–æ –≤—Ä–µ–º–µ:** 8 —á–∞—Å–∞

---

## 5. üìß EMAIL NOTIFICATIONS

### üéØ –¶–µ–ª:
Email –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏ –≥—Ä–µ—à–∫–∏.

### üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ‚≠ê‚≠ê‚≠ê –°–†–ï–î–ù–û
**–ó–∞—â–æ:** Backup communication channel, professional alerts.

### üîß –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è:

```python
# admin/email_notifications.py

import smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart
from email.mime.base import MIMEBase
from email import encoders

class EmailNotifier:
    def __init__(self, smtp_host, smtp_port, username, password):
        self.smtp_host = smtp_host
        self.smtp_port = smtp_port
        self.username = username
        self.password = password
    
    def send_alert(self, subject, body, attachment=None):
        """–ò–∑–ø—Ä–∞—â–∞ email alert"""
        msg = MIMEMultipart()
        msg['From'] = self.username
        msg['To'] = self.username  # –ò–ª–∏ –¥—Ä—É–≥ email
        msg['Subject'] = f"üîî Crypto Bot Alert: {subject}"
        
        # Body
        msg.attach(MIMEText(body, 'plain'))
        
        # Attachment
        if attachment:
            with open(attachment, 'rb') as f:
                part = MIMEBase('application', 'octet-stream')
                part.set_payload(f.read())
                encoders.encode_base64(part)
                part.add_header(
                    'Content-Disposition',
                    f'attachment; filename={attachment.split("/")[-1]}'
                )
                msg.attach(part)
        
        # –ò–∑–ø—Ä–∞—Ç–∏
        with smtplib.SMTP(self.smtp_host, self.smtp_port) as server:
            server.starttls()
            server.login(self.username, self.password)
            server.send_message(msg)
```

### üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (Gmail –ø—Ä–∏–º–µ—Ä):

```python
# –í credentials.json
{
    "email": {
        "smtp_host": "smtp.gmail.com",
        "smtp_port": 587,
        "username": "your-email@gmail.com",
        "password": "app-specific-password"
    }
}
```

**–û—á–∞–∫–≤–∞–Ω–æ –≤—Ä–µ–º–µ:** 3 —á–∞—Å–∞

---

## 6. üåê WEB INTERFACE

### üéØ –¶–µ–ª:
Web dashboard –∑–∞ real-time —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª.

### üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ‚≠ê‚≠ê –ù–ò–°–™–ö
**–ó–∞—â–æ:** Nice-to-have, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –∑–∞ core —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç.

### üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **Backend:** Flask/FastAPI
- **Frontend:** React –∏–ª–∏ Vue.js
- **Real-time:** WebSockets
- **–ì—Ä–∞—Ñ–∏–∫–∏:** Chart.js/D3.js

### üìê –°—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
web/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app.py          # Flask/FastAPI app
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ signals.py  # Signals API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stats.py    # Statistics API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin.py    # Admin API
‚îÇ   ‚îî‚îÄ‚îÄ websocket.py    # Real-time updates
‚îÇ
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SignalsList.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PerformanceChart.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Settings.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.jsx
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îî‚îÄ‚îÄ docker-compose.yml
```

### üé® Features:
- üìä Live —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- üìà Performance –≥—Ä–∞—Ñ–∏–∫–∏
- üîî Real-time —Å–∏–≥–Ω–∞–ª–∏
- ‚öôÔ∏è Bot –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- üì± Responsive design

**–û—á–∞–∫–≤–∞–Ω–æ –≤—Ä–µ–º–µ:** 20 —á–∞—Å–∞

---

## 7. üìä GRAFANA DASHBOARD

### üéØ –¶–µ–ª:
Professional monitoring —Å Prometheus + Grafana.

### üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ‚≠ê‚≠ê –ù–ò–°–™–ö
**–ó–∞—â–æ:** Enterprise-level monitoring, –Ω–æ overkill –∑–∞ —Ç–µ–∫—É—â–∏—è scale.

### üîß Stack:
- **Prometheus:** Metrics collection
- **Grafana:** Visualization
- **Node Exporter:** System metrics
- **Custom Exporter:** Bot metrics

### üìê Architecture:

```
Docker Compose:
‚îú‚îÄ‚îÄ prometheus
‚îú‚îÄ‚îÄ grafana
‚îú‚îÄ‚îÄ node-exporter
‚îî‚îÄ‚îÄ bot-exporter (custom)
```

### üìà Metrics:

```python
# admin/prometheus_exporter.py

from prometheus_client import start_http_server, Gauge, Counter

# Metrics
signal_counter = Counter('bot_signals_total', 'Total signals generated')
signal_success = Gauge('bot_signal_winrate', 'Signal win rate')
bot_uptime = Gauge('bot_uptime_seconds', 'Bot uptime')
api_latency = Gauge('binance_api_latency_ms', 'Binance API latency')

# –ï–∫—Å–ø–æ—Ä—Ç–∏—Ä–∞–π –Ω–∞ –ø–æ—Ä—Ç 8000
start_http_server(8000)
```

**–û—á–∞–∫–≤–∞–Ω–æ –≤—Ä–µ–º–µ:** 16 —á–∞—Å–∞

---

## 8. üíæ DATABASE MIGRATION

### üéØ –¶–µ–ª:
–ü—Ä–µ—Ö–æ–¥ –æ—Ç JSON –∫—ä–º —Ä–µ–ª–∞—Ü–∏–æ–Ω–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏.

### üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ‚≠ê –ù–ò–°–™–ö
**–ó–∞—â–æ:** JSON —Ä–∞–±–æ—Ç–∏ –¥–æ–±—Ä–µ –ø—Ä–∏ —Ç–µ–∫—É—â–∏—è –æ–±–µ–º. –ù—É–∂–Ω–æ –ø—Ä–∏ >10K –∑–∞–ø–∏—Å–∞/–¥–µ–Ω.

### üîß –û–ø—Ü–∏–∏:

#### –û–ø—Ü–∏—è 1: PostgreSQL (–ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–º)

```sql
-- Schema

CREATE TABLE signals (
    id SERIAL PRIMARY KEY,
    timestamp TIMESTAMPTZ NOT NULL,
    symbol VARCHAR(10) NOT NULL,
    timeframe VARCHAR(5) NOT NULL,
    signal_type VARCHAR(10) NOT NULL,
    entry_price DECIMAL(18, 8),
    take_profit DECIMAL(18, 8),
    stop_loss DECIMAL(18, 8),
    confidence DECIMAL(5, 2),
    indicators JSONB,
    result VARCHAR(10),
    profit_loss DECIMAL(10, 2),
    created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_signals_symbol ON signals(symbol);
CREATE INDEX idx_signals_timestamp ON signals(timestamp);
CREATE INDEX idx_signals_result ON signals(result);
```

#### –û–ø—Ü–∏—è 2: MongoDB

```javascript
// Schema

{
    _id: ObjectId,
    timestamp: ISODate,
    symbol: String,
    timeframe: String,
    signal_type: String,
    entry_price: Decimal128,
    take_profit: Decimal128,
    stop_loss: Decimal128,
    confidence: Decimal128,
    indicators: {
        macd: Object,
        rsi: Number,
        bollinger: Object,
        // ...
    },
    result: String,
    profit_loss: Decimal128,
    created_at: ISODate
}
```

### üì¶ Migration —Å–∫—Ä–∏–ø—Ç:

```python
# admin/migrate_to_db.py

import json
import psycopg2

def migrate_json_to_postgres():
    """–ú–∏–≥—Ä–∏—Ä–∞ –¥–∞–Ω–Ω–∏ –æ—Ç JSON –∫—ä–º PostgreSQL"""
    
    # –ó–∞—Ä–µ–¥–∏ JSON
    with open('bot_stats.json', 'r') as f:
        data = json.load(f)
    
    # Connect to PostgreSQL
    conn = psycopg2.connect(
        host="localhost",
        database="crypto_bot",
        user="bot_user",
        password="password"
    )
    
    cursor = conn.cursor()
    
    # Insert data
    for symbol, stats in data['by_symbol'].items():
        cursor.execute("""
            INSERT INTO signals (symbol, ...)
            VALUES (%s, ...)
        """, (symbol, ...))
    
    conn.commit()
    cursor.close()
    conn.close()
```

**–û—á–∞–∫–≤–∞–Ω–æ –≤—Ä–µ–º–µ:** 24 —á–∞—Å–∞

---

## üìä –°–†–ê–í–ù–ò–¢–ï–õ–ù–ê –¢–ê–ë–õ–ò–¶–ê

| –§—É–Ω–∫—Ü–∏—è | –°–ª–æ–∂–Ω–æ—Å—Ç | ROI | –ü–æ–¥–¥—Ä—ä–∂–∫–∞ | –ü—Ä–µ–ø–æ—Ä—ä–∫–∞ |
|---------|----------|-----|-----------|-----------|
| Telegram Alert | ‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ù–∏—Å–∫–∞ | ‚úÖ –î–ê |
| Auto-Restart | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ù–∏—Å–∫–∞ | ‚úÖ –î–ê |
| Performance Mon | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω–∞ | ‚úÖ –î–ê |
| Unit Tests | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω–∞ | üü° –ú–æ–∂–µ |
| Email Notif | ‚≠ê | ‚≠ê‚≠ê‚≠ê | –ù–∏—Å–∫–∞ | üü° –ú–æ–∂–µ |
| Web Interface | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | –í–∏—Å–æ–∫–∞ | ‚ùå –ü–æ-–∫—ä—Å–Ω–æ |
| Grafana | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | –í–∏—Å–æ–∫–∞ | ‚ùå –ü–æ-–∫—ä—Å–Ω–æ |
| Database | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê | –í–∏—Å–æ–∫–∞ | ‚ùå –ù–µ–Ω—É–∂–Ω–æ —Å–µ–≥–∞ |

---

## üéØ –ü–†–ï–ü–û–†–™–ß–ò–¢–ï–õ–ù–ê –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–ù–û–°–¢

### –§–∞–∑–∞ 1: Quick Wins (1 —Å–µ–¥–º–∏—Ü–∞)
1. ‚úÖ Telegram Alert —Å–∏—Å—Ç–µ–º–∞
2. ‚úÖ Auto-Restart —Å watchdog
3. ‚úÖ Email notifications

### –§–∞–∑–∞ 2: Quality & Monitoring (2 —Å–µ–¥–º–∏—Ü–∏)
4. ‚úÖ Performance monitoring
5. ‚úÖ Unit tests –∑–∞ critical functions
6. ‚úÖ Logging improvements

### –§–∞–∑–∞ 3: Advanced (1-2 –º–µ—Å–µ—Ü–∞)
7. üü° Web interface (–∞–∫–æ –∏–º–∞ –Ω—É–∂–¥–∞)
8. üü° Grafana dashboard (enterprise clients)

### –§–∞–∑–∞ 4: Scaling (—Å–∞–º–æ –ø—Ä–∏ –Ω—É–∂–¥–∞)
9. ‚ùå Database migration (>10K signals/day)
10. ‚ùå Microservices architecture

---

## üìù NOTES

### –í–∞–∂–Ω–∏ —Å—ä–æ–±—Ä–∞–∂–µ–Ω–∏—è:

1. **Keep It Simple** - –ù–µ —É—Å–ª–æ–∂–Ω—è–≤–∞–π –ø—Ä–µ–¥–∏ –¥–∞ –µ –Ω—É–∂–Ω–æ
2. **Measure First** - –ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–π monitoring –ø—Ä–µ–¥–∏ optimization
3. **Test Everything** - –û—Å–æ–±–µ–Ω–æ critical paths
4. **Document Changes** - –ü–æ–¥–¥—Ä—ä–∂–∫–∞ –Ω–∞ documentation

### –ö–æ–≥–∞—Ç–æ –¥–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞—à:

- **Telegram Alert** ‚Üí –°–ï–ì–ê (2h –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è, –≤–∏—Å–æ–∫–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç)
- **Auto-Restart** ‚Üí –°–ï–ì–ê (4h –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è, 99.9% uptime)
- **Performance Mon** ‚Üí –°–ª–µ–¥ 1 –º–µ—Å–µ—Ü production use
- **Unit Tests** ‚Üí –ü—Ä–∏ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤–∏ major features
- **Web Interface** ‚Üí –°–∞–º–æ –∞–∫–æ –∏–º–∞—à –∫–ª–∏–µ–Ω—Ç–∏ –∫–æ–∏—Ç–æ –≥–æ –∏—Å–∫–∞—Ç
- **Database** ‚Üí –°–∞–º–æ –ø—Ä–∏ performance issues —Å JSON

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–ù–∞–π-–≤–∞–∂–Ω–∏—Ç–µ –ø–æ–¥–æ–±—Ä–µ–Ω–∏—è –∑–∞ —Ç–µ–∫—É—â–∏—è –º–æ–º–µ–Ω—Ç:

1. **üì± Telegram Alert** - –ù–µ–∑–∞–±–∞–≤–Ω–∏ –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. **üîÑ Auto-Restart** - 24/7 uptime –≥–∞—Ä–∞–Ω—Ü–∏—è
3. **üìà Performance Monitoring** - –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–û—Å—Ç–∞–Ω–∞–ª–∏—Ç–µ —Å–∞ nice-to-have –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∏.

**–§–æ–∫—É—Å–∏—Ä–∞–π —Å–µ –Ω–∞ stability –∏ reliability –ø—Ä–µ–¥–∏ scaling!** üéØ

---

*Future Improvements Roadmap v1.0*  
*–°—ä–∑–¥–∞–¥–µ–Ω: 23.11.2025*  
*–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω –ø—Ä–∏ –Ω—É–∂–¥–∞*
