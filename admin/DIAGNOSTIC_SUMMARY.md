# üîß –î–ò–ê–ì–ù–û–°–¢–ò–ß–ù–ê –°–ò–°–¢–ï–ú–ê - –ü–™–õ–ù–û –†–ï–ó–Æ–ú–ï

**–î–∞—Ç–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ:** 23 –ù–æ–µ–º–≤—Ä–∏ 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–ö–¢–ò–í–ù–ê –ò –†–ê–ë–û–¢–ï–©–ê  
**–ì—Ä–∞—Ñ–∏–∫:** –í—Å–µ–∫–∏ –¥–µ–Ω –≤ 01:00 UTC (03:00 BG –≤—Ä–µ–º–µ)

---

## ‚úÖ –ì–û–¢–û–í–û! –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Å–∞–º–æ–ø–æ–ø—Ä–∞–≤–∫–∞ —Å—ä–∑–¥–∞–¥–µ–Ω–∞!

### üéØ –ö–∞–∫–≤–æ –±–µ—à–µ —Å—ä–∑–¥–∞–¥–µ–Ω–æ:

#### 1. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ–Ω —Å–∫—Ä–∏–ø—Ç** - `admin/diagnostics.py` (14KB)
   - 6 –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–∞–º–æ–ø–æ–ø—Ä–∞–≤–∫–∞
   - –î–µ—Ç–∞–π–ª–Ω–∏ –æ—Ç—á–µ—Ç–∏
   - **–ò–∑–ø—ä–ª–Ω–∏–º:** `chmod +x` –ø—Ä–∏–ª–æ–∂–µ–Ω

#### 2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–∞** - `bot.py`
   - –î–æ–±–∞–≤–µ–Ω APScheduler job
   - –ò–∑–ø—ä–ª–Ω—è–≤–∞ —Å–µ –≤—Å–µ–∫–∏ –¥–µ–Ω –≤ 01:00 UTC (03:00 BG)
   - –õ–æ–≥–≤–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ –≤ bot.log
   - Import –Ω–∞ diagnostics –º–æ–¥—É–ª

#### 3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - `admin/DIAGNOSTICS_GUIDE.md`
   - –ü—ä–ª–Ω–æ —Ä—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ (200+ —Ä–µ–¥–∞)
   - –ü—Ä–∏–º–µ—Ä–Ω–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - Troubleshooting guide

---

## üîç –ö–ê–ö–í–û –ü–†–û–í–ï–†–Ø–í–ê –°–ò–°–¢–ï–ú–ê–¢–ê:

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ö—Ä–∏—Ç–∏—á–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ
**–¶–µ–ª:** –î–∞–ª–∏ –≤—Å–∏—á–∫–∏ –≤–∞–∂–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç

–ü—Ä–æ–≤–µ—Ä—è–≤–∞–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ:
- `bot.py` - –û—Å–Ω–æ–≤–µ–Ω –±–æ—Ç —Ñ–∞–π–ª
- `bot_stats.json` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `admin_module.py` - –ê–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–∏
- `credentials.json` - Credentials
- `admin_password.json` - –•–µ—à–∏—Ä–∞–Ω–∞ –ø–∞—Ä–æ–ª–∞
- `.gitignore` - Git –∑–∞—â–∏—Ç–∞

**–î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –ª–∏–ø—Å–∞:** –°—ä–∑–¥–∞–≤–∞ —Ñ–∞–π–ª–∞ —Å—ä—Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
**–¶–µ–ª:** –í–∞–ª–∏–¥–Ω–æ—Å—Ç –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç –Ω–∞ JSON —Ñ–∞–π–ª–æ–≤–µ—Ç–µ

–ü—Ä–æ–≤–µ—Ä—è–≤–∞:
- JSON —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (–≤–∞–ª–∏–¥–µ–Ω –ª–∏ –µ)
- –ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–ª–µ—Ç–∞ –≤ `bot_stats.json`:
  - `total_signals`
  - `by_symbol`
  - `by_timeframe`
  - `by_confidence`

**–î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –≥—Ä–µ—à–∫–∞:**
1. –û–ø–∏—Ç–≤–∞ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ –æ—Ç backup
2. –ê–∫–æ –Ω—è–º–∞ backup - —Å—ä–∑–¥–∞–≤–∞ –Ω–æ–≤ —Ñ–∞–π–ª —Å—ä—Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ü—Ä–æ—Ü–µ—Å –Ω–∞ –±–æ—Ç–∞
**–¶–µ–ª:** –î–∞–ª–∏ –±–æ—Ç—ä—Ç —Ä–∞–±–æ—Ç–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ

```bash
ps aux | grep bot.py
```

–ü—Ä–æ–≤–µ—Ä—è–≤–∞:
- –ù–∞–ª–∏—á–∏–µ –Ω–∞ –ø—Ä–æ—Ü–µ—Å
- –ò–∑–≤–ª–∏—á–∞ PID –Ω–æ–º–µ—Ä
- –û—Ç—á–∏—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞

**–ó–∞–±–µ–ª–µ–∂–∫–∞:** –°–∞–º–æ –æ—Ç—á–∏—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞ (–Ω–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç)

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: Log —Ñ–∞–π–ª–æ–≤–µ
**–¶–µ–ª:** –ö–æ–Ω—Ç—Ä–æ–ª –Ω–∞ —Ä–∞–∑–º–µ—Ä–∞, —Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–∏ –Ω—É–∂–¥–∞

–ü—Ä–æ–≤–µ—Ä—è–≤–∞–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ:
- `bot.log` - –û—Å–Ω–æ–≤–µ–Ω –ª–æ–≥ –Ω–∞ –±–æ—Ç–∞
- `diagnostics.log` - –õ–æ–≥ –Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞—Ç–∞

**–ú–∞–∫—Å–∏–º–∞–ª–µ–Ω —Ä–∞–∑–º–µ—Ä:** 50MB

**–î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤–∏—à–∞–≤–∞–Ω–µ:**
```
bot.log ‚Üí bot.20251123_041913.log (backup)
‚Üí –°—ä–∑–¥–∞–≤–∞ –Ω–æ–≤ –ø—Ä–∞–∑–µ–Ω bot.log
```

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: –î–∏—Å–∫–æ–≤–∞ –ø–∞–º–µ—Ç
**–¶–µ–ª:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ —Å–≤–æ–±–æ–¥–Ω–æ—Ç–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ

–ü—Ä–æ–≤–µ—Ä—è–≤–∞:
- –°–≤–æ–±–æ–¥–Ω–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ (GB)
- % –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ
- –û–±—â –∫–∞–ø–∞—Ü–∏—Ç–µ—Ç

**–õ–∏–º–∏—Ç:** <1GB —Å–≤–æ–±–æ–¥–Ω–æ

**–î–µ–π—Å—Ç–≤–∏–µ:** –ò–∑—Ç—Ä–∏–≤–∞ backups –ø–æ-—Å—Ç–∞—Ä–∏ –æ—Ç 30 –¥–Ω–∏

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 6: File Permissions
**–¶–µ–ª:** –î–∞–ª–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤–µ—Ç–µ —Å–∞ –∏–∑–ø—ä–ª–Ω–∏–º–∏

–ü—Ä–æ–≤–µ—Ä—è–≤–∞:
- `admin/backup.sh`
- `admin/diagnostics.py`

**–î–µ–π—Å—Ç–≤–∏–µ:** `chmod +x` –∞–∫–æ –ª–∏–ø—Å–≤–∞ execute permission

---

## üîß –ö–ê–ö–í–û –ü–û–ü–†–ê–í–Ø –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û:

1. **–í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞ –ª–∏–ø—Å–≤–∞—â–∏ —Ñ–∞–π–ª–æ–≤–µ**
   - –°—ä–∑–¥–∞–≤–∞ `bot_stats.json` –∞–∫–æ –ª–∏–ø—Å–≤–∞
   - –ü–æ–ø—ä–ª–≤–∞ —Å—ä—Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

2. **–ü–æ–ø—Ä–∞–≤—è JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∏**
   - –î–æ–±–∞–≤—è –ª–∏–ø—Å–≤–∞—â–∏ –∫–ª—é—á–æ–≤–µ
   - –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞ –æ—Ç backup –ø—Ä–∏ corruption

3. **–†–æ—Ç–∏—Ä–∞ –≥–æ–ª–µ–º–∏ –ª–æ–≥–æ–≤–µ**
   - –ü—Ä–∞–≤–∏ backup –Ω–∞ —Å—Ç–∞—Ä–∏—è —Ñ–∞–π–ª
   - –°—ä–∑–¥–∞–≤–∞ –Ω–æ–≤ –ø—Ä–∞–∑–µ–Ω –ª–æ–≥

4. **–ò–∑—Ç—Ä–∏–≤–∞ —Å—Ç–∞—Ä–∏ backups**
   - –°–∞–º–æ —Ñ–∞–π–ª–æ–≤–µ –ø–æ-—Å—Ç–∞—Ä–∏ –æ—Ç 30 –¥–Ω–∏
   - –û—Å–≤–æ–±–æ–∂–¥–∞–≤–∞ –¥–∏—Å–∫–æ–≤–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ

5. **–ü–æ–ø—Ä–∞–≤—è file permissions**
   - `chmod +x` –Ω–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤–µ
   - –ì–∞—Ä–∞–Ω—Ç–∏—Ä–∞ –∏–∑–ø—ä–ª–Ω–∏–º–æ—Å—Ç

6. **–í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞ –æ—Ç backup**
   - –ü—Ä–∏ –∫–æ—Ä—É–º–ø–∏—Ä–∞–Ω–∏ JSON —Ñ–∞–π–ª–æ–≤–µ
   - –ò–∑–ø–æ–ª–∑–≤–∞ –Ω–∞–π-–Ω–æ–≤–∏—è –Ω–∞–ª–∏—á–µ–Ω backup

---

## üìä –ê–í–¢–û–ú–ê–¢–ò–ß–ï–ù –ì–†–ê–§–ò–ö –ù–ê –û–ü–ï–†–ê–¶–ò–ò:

| –ß–∞—Å UTC | –ß–∞—Å BG | –û–ø–µ—Ä–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –¢–∏–ø |
|---------|--------|----------|--------|-----|
| **01:00** | **03:00** | üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ | ‚úÖ –ê–ö–¢–ò–í–ù–ê | Auto |
| **02:00** | **04:00** | üíæ Backup | Manual* | Manual |
| **08:00** | **10:00** | üìä –î–Ω–µ–≤–µ–Ω –æ—Ç—á–µ—Ç | ‚úÖ –ê–ö–¢–ò–í–ù–ê | Auto + üîî |
| **08:00** | **10:00** | üìà –°–µ–¥–º–∏—á–µ–Ω –æ—Ç—á–µ—Ç (–ü–æ–Ω) | ‚úÖ –ê–ö–¢–ò–í–ù–ê | Auto + üîî |
| **08:00** | **10:00** | üéØ –ú–µ—Å–µ—á–µ–Ω –æ—Ç—á–µ—Ç (1-–≤–æ) | ‚úÖ –ê–ö–¢–ò–í–ù–ê | Auto + üîî |

*Backup –º–æ–∂–µ –¥–∞ —Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞ —á—Ä–µ–∑ crontab

---

## üìÅ –ì–ï–ù–ï–†–ò–†–ê–ù–ò –§–ê–ô–õ–û–í–ï –ò –°–¢–†–£–ö–¢–£–†–ê:

```
/workspaces/Crypto-signal-bot/
‚îî‚îÄ‚îÄ admin/
    ‚îú‚îÄ‚îÄ diagnostics.py ‚úÖ (14KB - executable)
    ‚îÇ   ‚îî‚îÄ‚îÄ –ì–ª–∞–≤–µ–Ω –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ–Ω —Å–∫—Ä–∏–ø—Ç
    ‚îÇ
    ‚îú‚îÄ‚îÄ diagnostics.log ‚úÖ (–∂–∏–≤–µ–µ—â –ª–æ–≥)
    ‚îÇ   ‚îî‚îÄ‚îÄ –ü–æ—Å—Ç–æ—è–Ω–µ–Ω –∑–∞–ø–∏—Å –Ω–∞ –≤—Å–∏—á–∫–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
    ‚îÇ
    ‚îú‚îÄ‚îÄ DIAGNOSTICS_GUIDE.md ‚úÖ (–ø—ä–ª–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
    ‚îÇ   ‚îî‚îÄ‚îÄ –†—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ —É–ø–æ—Ç—Ä–µ–±–∞
    ‚îÇ
    ‚îú‚îÄ‚îÄ DIAGNOSTIC_SUMMARY.md ‚úÖ (—Ç–æ–∑–∏ —Ñ–∞–π–ª)
    ‚îÇ   ‚îî‚îÄ‚îÄ –ö—Ä–∞—Ç–∫–æ —Ä–µ–∑—é–º–µ
    ‚îÇ
    ‚îî‚îÄ‚îÄ reports/
        ‚îî‚îÄ‚îÄ diagnostics/
            ‚îú‚îÄ‚îÄ diagnostic_20251123.txt ‚úÖ (–¥–Ω–µ—à–µ–Ω)
            ‚îú‚îÄ‚îÄ diagnostic_20251124.txt (—É—Ç—Ä–µ—à–µ–Ω)
            ‚îî‚îÄ‚îÄ diagnostic_20251125.txt (–≤ –±—ä–¥–µ—â–µ)
```

---

## üéâ –ü–û–°–õ–ï–î–ù–ê –ü–†–û–í–ï–†–ö–ê (23.11.2025 04:19 UTC):

```
üöÄ –°–¢–ê–†–¢–ò–†–ê–ù–ï –ù–ê –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê...
üìÖ 2025-11-23 04:19:13 UTC

üîç –ü–†–û–í–ï–†–ö–ê 1: –ö—Ä–∏—Ç–∏—á–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ...
‚úÖ bot.py - OK
‚úÖ bot_stats.json - OK
‚úÖ admin_module.py - OK
‚úÖ credentials.json - OK
‚úÖ admin_password.json - OK
‚úÖ .gitignore - OK

üîç –ü–†–û–í–ï–†–ö–ê 2: JSON —Ñ–∞–π–ª–æ–≤–µ...
‚úÖ bot_stats.json - –≤–∞–ª–∏–¥–µ–Ω JSON
‚úÖ credentials.json - –≤–∞–ª–∏–¥–µ–Ω JSON
‚úÖ admin_password.json - –≤–∞–ª–∏–¥–µ–Ω JSON

üîç –ü–†–û–í–ï–†–ö–ê 3: –ü—Ä–æ—Ü–µ—Å –Ω–∞ –±–æ—Ç–∞...
‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∏ (PID: 136455)

üîç –ü–†–û–í–ï–†–ö–ê 4: Log —Ñ–∞–π–ª–æ–≤–µ...
‚úÖ bot.log - 0.01MB
‚úÖ diagnostics.log - 0.00MB

üîç –ü–†–û–í–ï–†–ö–ê 5: –î–∏—Å–∫–æ–≤–∞ –ø–∞–º–µ—Ç...
üíæ –°–≤–æ–±–æ–¥–Ω–æ: 18.41GB / 31.33GB (63.9%)

üîç –ü–†–û–í–ï–†–ö–ê 6: File permissions...
‚úÖ backup.sh - OK
‚úÖ diagnostics.py - OK

üìä –§–ò–ù–ê–õ–ï–ù –û–¢–ß–ï–¢
============================================
‚è∞ –í—Ä–µ–º–µ: 2025-11-23 04:19:13 UTC
üîç –ù–∞–º–µ—Ä–µ–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏: 0
üîß –ü—Ä–∏–ª–æ–∂–µ–Ω–∏ –ø–æ–ø—Ä–∞–≤–∫–∏: 0

üéâ –°–ò–°–¢–ï–ú–ê–¢–ê –ï –í –û–¢–õ–ò–ß–ù–û –°–™–°–¢–û–Ø–ù–ò–ï!
```

---

## üöÄ –ö–ê–ö –î–ê –ò–ó–ü–û–õ–ó–í–ê–®:

### –ú–µ—Ç–æ–¥ 1: –†—ä—á–Ω–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ
```bash
cd /workspaces/Crypto-signal-bot
python3 admin/diagnostics.py
```

### –ú–µ—Ç–æ–¥ 2: –ö–∞—Ç–æ executable
```bash
./admin/diagnostics.py
```

### –ú–µ—Ç–æ–¥ 3: –ü—Ä–µ–∑ –≤–∏—Ä—Ç—É–∞–ª–Ω–∞—Ç–∞ —Å—Ä–µ–¥–∞
```bash
source .venv/bin/activate
python admin/diagnostics.py
```

### –ú–µ—Ç–æ–¥ 4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (–≤–µ—á–µ —Ä–∞–±–æ—Ç–∏!)
- –í—Å–µ–∫–∏ –¥–µ–Ω –≤ 01:00 UTC (03:00 BG)
- –ò–∑–ø—ä–ª–Ω—è–≤–∞ —Å–µ –æ—Ç APScheduler –≤ –±–æ—Ç–∞
- –ù–µ –∏–∑–∏—Å–∫–≤–∞ —Ä—ä—á–Ω–∞ –Ω–∞–º–µ—Å–∞

---

## üìã –ö–ê–ö –î–ê –ü–†–û–í–ï–†–Ø–í–ê–® –†–ï–ó–£–õ–¢–ê–¢–ò–¢–ï:

### –í–∏–∂ –ø–æ—Å–ª–µ–¥–Ω–∏—è –æ—Ç—á–µ—Ç:
```bash
cat admin/reports/diagnostics/diagnostic_$(date +%Y%m%d).txt
```

### –í–∏–∂ –∂–∏–≤–∏—è –ª–æ–≥:
```bash
tail -f admin/diagnostics.log
```

### –§–∏–ª—Ç—Ä–∏—Ä–∞–π —Å–∞–º–æ –≥—Ä–µ—à–∫–∏:
```bash
grep "ERROR" admin/diagnostics.log
```

### –í–∏–∂ –≤—Å–∏—á–∫–∏ –æ—Ç—á–µ—Ç–∏:
```bash
ls -lh admin/reports/diagnostics/
```

---

## ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### –ü—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –≤ `diagnostics.py`:

```python
# –û—Å–Ω–æ–≤–Ω–∏ –ø—ä—Ç–∏—â–∞
BASE_DIR = Path("/workspaces/Crypto-signal-bot")
ADMIN_DIR = BASE_DIR / "admin"
LOG_FILE = ADMIN_DIR / "diagnostics.log"

# –õ–∏–º–∏—Ç–∏
max_size_mb = 50          # –ú–∞–∫—Å–∏–º–∞–ª–µ–Ω —Ä–∞–∑–º–µ—Ä –Ω–∞ log —Ñ–∞–π–ª (MB)
retention_days = 30       # Retention –∑–∞ backups (–¥–Ω–∏)
min_free_gb = 1           # –ú–∏–Ω–∏–º–∞–ª–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ –º—è—Å—Ç–æ (GB)
```

### –ö–∞–∫ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏—à –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ:

1. –û—Ç–≤–æ—Ä–∏ `admin/diagnostics.py`
2. –ù–∞–º–µ—Ä–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ –ø–æ-–≥–æ—Ä–µ
3. –ü—Ä–æ–º–µ–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ
4. –ó–∞–ø–∞–∑–∏ —Ñ–∞–π–ª–∞
5. –ü—Ä–æ–º–µ–Ω–∏—Ç–µ –≤–ª–∏–∑–∞—Ç –≤ —Å–∏–ª–∞ –æ—Ç —Å–ª–µ–¥–≤–∞—â–æ—Ç–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ

---

## üîÑ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –ë–û–¢–ê

### APScheduler Job (–≤ bot.py):

```python
# –†–µ–¥ ~2729
scheduler.add_job(
    run_diagnostics,
    'cron',
    hour=1,     # 01:00 UTC (03:00 BG)
    minute=0
)
```

### –§—É–Ω–∫—Ü–∏—è –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ:

```python
def run_diagnostics():
    """–ò–∑–ø—ä–ª–Ω—è–≤–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞"""
    if DIAGNOSTICS_AVAILABLE:
        try:
            result = subprocess.run(
                [sys.executable, '/workspaces/Crypto-signal-bot/admin/diagnostics.py'],
                capture_output=True,
                text=True
            )
            logger.info(f"‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤—ä—Ä—à–µ–Ω–∞ —Å –∫–æ–¥: {result.returncode}")
            if result.stdout:
                logger.info(f"üìã –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ output:\n{result.stdout}")
        except Exception as e:
            logger.error(f"‚ùå –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: {e}")
```

---

## üìä –ü–†–ò–ú–ï–†–ù–ò –°–¶–ï–ù–ê–†–ò–ò

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –õ–∏–ø—Å–≤–∞ bot_stats.json

```
üîç –ü–†–û–í–ï–†–ö–ê 1: –ö—Ä–∏—Ç–∏—á–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ...
‚ùå –õ–∏–ø—Å–≤–∞ –∫—Ä–∏—Ç–∏—á–µ–Ω —Ñ–∞–π–ª: bot_stats.json
üîß –°—ä–∑–¥–∞–≤–∞–º bot_stats.json...
‚úÖ bot_stats.json –≤—ä–∑—Å—Ç–∞–Ω–æ–≤–µ–Ω

üìä –§–ò–ù–ê–õ–ï–ù –û–¢–ß–ï–¢
üîç –ù–∞–º–µ—Ä–µ–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏: 1
üîß –ü—Ä–∏–ª–æ–∂–µ–Ω–∏ –ø–æ–ø—Ä–∞–≤–∫–∏: 1

‚úÖ –ü–û–ü–†–ê–í–ö–ò:
  - Created bot_stats.json
```

**–†–µ–∑—É–ª—Ç–∞—Ç:** –§–∞–π–ª—ä—Ç –µ —Å—ä–∑–¥–∞–¥–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, —Å–∏—Å—Ç–µ–º–∞—Ç–∞ —Ä–∞–±–æ—Ç–∏ –Ω–æ—Ä–º–∞–ª–Ω–æ.

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ì–æ–ª—è–º log —Ñ–∞–π–ª (>50MB)

```
üîç –ü–†–û–í–ï–†–ö–ê 4: Log —Ñ–∞–π–ª–æ–≤–µ...
‚ö†Ô∏è bot.log –µ —Ç–≤—ä—Ä–¥–µ –≥–æ–ª—è–º (52.34MB)
üîß –†–æ—Ç–∏—Ä–∞–º bot.log...
‚úÖ bot.log —Ä–æ—Ç–∏—Ä–∞–Ω –∫—ä–º bot.20251123_041913.log

üìä –§–ò–ù–ê–õ–ï–ù –û–¢–ß–ï–¢
üîç –ù–∞–º–µ—Ä–µ–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏: 1
üîß –ü—Ä–∏–ª–æ–∂–µ–Ω–∏ –ø–æ–ø—Ä–∞–≤–∫–∏: 1

‚úÖ –ü–û–ü–†–ê–í–ö–ò:
  - Rotated bot.log
```

**–†–µ–∑—É–ª—Ç–∞—Ç:** –°—Ç–∞—Ä–∏—è—Ç –ª–æ–≥ –µ –∑–∞–ø–∞–∑–µ–Ω –∫–∞—Ç–æ backup, –Ω–æ–≤ –ø—Ä–∞–∑–µ–Ω –ª–æ–≥ –µ —Å—ä–∑–¥–∞–¥–µ–Ω.

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ú–∞–ª–∫–æ –¥–∏—Å–∫–æ–≤–∞ –ø–∞–º–µ—Ç (<1GB)

```
üîç –ü–†–û–í–ï–†–ö–ê 5: –î–∏—Å–∫–æ–≤–∞ –ø–∞–º–µ—Ç...
üíæ –°–≤–æ–±–æ–¥–Ω–æ: 0.82GB / 31.33GB (97.4%)
‚ö†Ô∏è –ú–∞–ª–∫–æ —Å–≤–æ–±–æ–¥–Ω–æ –º—è—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–∞!
üîß –ü–æ—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ —Å—Ç–∞—Ä–∏ backups...
‚úÖ –ò–∑—Ç—Ä–∏—Ç–∏ 47 —Å—Ç–∞—Ä–∏ backups

üìä –§–ò–ù–ê–õ–ï–ù –û–¢–ß–ï–¢
üîç –ù–∞–º–µ—Ä–µ–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏: 1
üîß –ü—Ä–∏–ª–æ–∂–µ–Ω–∏ –ø–æ–ø—Ä–∞–≤–∫–∏: 1

‚úÖ –ü–û–ü–†–ê–í–ö–ò:
  - Deleted 47 old backups
```

**–†–µ–∑—É–ª—Ç–∞—Ç:** –û—Å–≤–æ–±–æ–¥–µ–Ω–æ –µ –º—è—Å—Ç–æ, —Å–∏—Å—Ç–µ–º–∞—Ç–∞ —Ä–∞–±–æ—Ç–∏ –Ω–æ—Ä–º–∞–ª–Ω–æ.

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ö–æ—Ä—É–º–ø–∏—Ä–∞–Ω JSON —Ñ–∞–π–ª

```
üîç –ü–†–û–í–ï–†–ö–ê 2: JSON —Ñ–∞–π–ª–æ–≤–µ...
‚ùå bot_stats.json - –Ω–µ–≤–∞–ª–∏–¥–µ–Ω JSON: Expecting ',' delimiter
üîß –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–º bot_stats.json –æ—Ç backup...
‚úÖ bot_stats.json –≤—ä–∑—Å—Ç–∞–Ω–æ–≤–µ–Ω –æ—Ç bot_stats.json.20251122

üìä –§–ò–ù–ê–õ–ï–ù –û–¢–ß–ï–¢
üîç –ù–∞–º–µ—Ä–µ–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏: 1
üîß –ü—Ä–∏–ª–æ–∂–µ–Ω–∏ –ø–æ–ø—Ä–∞–≤–∫–∏: 1

‚úÖ –ü–û–ü–†–ê–í–ö–ò:
  - Restored bot_stats.json from backup
```

**–†–µ–∑—É–ª—Ç–∞—Ç:** –§–∞–π–ª—ä—Ç –µ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤–µ–Ω –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—è backup.

---

## üéØ EXIT CODES

| –ö–æ–¥ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----|----------|
| `0` | ‚úÖ –í—Å–∏—á–∫–æ –µ –û–ö, –Ω—è–º–∞ –ø—Ä–æ–±–ª–µ–º–∏ |
| `1` | ‚ö†Ô∏è –ù–∞–º–µ—Ä–µ–Ω–∏ —Å–∞ –ø—Ä–æ–±–ª–µ–º–∏ (–¥–æ—Ä–∏ –∞–∫–æ —Å–∞ –ø–æ–ø—Ä–∞–≤–µ–Ω–∏) |

**–£–ø–æ—Ç—Ä–µ–±–∞:**
```bash
python3 admin/diagnostics.py
echo $?  # –ü–æ–∫–∞–∑–≤–∞ exit –∫–æ–¥–∞
```

---

## ‚ö° –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–ù–û–°–¢

| –ú–µ—Ç—Ä–∏–∫–∞ | –°—Ç–æ–π–Ω–æ—Å—Ç |
|---------|----------|
| –í—Ä–µ–º–µ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ | ~0.5 —Å–µ–∫—É–Ω–¥–∏ |
| CPU –Ω–∞—Ç–æ–≤–∞—Ä–≤–∞–Ω–µ | –ú–∏–Ω–∏–º–∞–ª–Ω–æ (<5%) |
| –ü–∞–º–µ—Ç (RAM) | <10MB |
| –î–∏—Å–∫–æ–≤–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ | –°–∞–º–æ —á–µ—Ç–µ–Ω–µ + log –∑–∞–ø–∏—Å |
| Network | –ù—è–º–∞ (offline —Ä–∞–±–æ—Ç–∞) |

---

## üõ°Ô∏è –°–ò–ì–£–†–ù–û–°–¢ –ò –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

### –ó–∞—â–∏—Ç–µ–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏:
‚úÖ –ù–µ –∏–∑—Ç—Ä–∏–≤–∞ –∫—Ä–∏—Ç–∏—á–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ  
‚úÖ –ü—Ä–∞–≤–∏ backup –ø—Ä–µ–¥–∏ —Ä–æ—Ç–∞—Ü–∏—è  
‚úÖ –ü—Ä–æ–≤–µ—Ä—è–≤–∞ permissions —Å–∞–º–æ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤–µ  
‚úÖ –í–∞–ª–∏–¥–∏—Ä–∞ JSON –ø—Ä–µ–¥–∏ –ø—Ä–µ–∑–∞–ø–∏—Å–≤–∞–Ω–µ  

### Limits:
- –ú–∞–∫—Å–∏–º—É–º 30 –¥–Ω–∏ retention –∑–∞ backups
- –ú–∞–∫—Å–∏–º—É–º 50MB —Ä–∞–∑–º–µ—Ä –∑–∞ log —Ñ–∞–π–ª–æ–≤–µ
- –ú–∏–Ω–∏–º—É–º 1GB —Å–≤–æ–±–æ–¥–Ω–æ –º—è—Å—Ç–æ –ø—Ä–µ–¥–∏ cleanup
- –ù–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞ –±–æ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (–∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç)

---

## üîÆ –ë–™–î–ï–©–ò –ü–û–î–û–ë–†–ï–ù–ò–Ø

–ü–ª–∞–Ω–∏—Ä–∞–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏:

- [ ] **Telegram –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** –ø—Ä–∏ –æ—Ç–∫—Ä–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏
- [ ] **Email alert** –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏ –≥—Ä–µ—à–∫–∏
- [ ] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω restart** –Ω–∞ –±–æ—Ç–∞ –ø—Ä–∏ crash (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ)
- [ ] **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ CPU/RAM** usage
- [ ] **Prometheus/Grafana** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] **Auto-backup** –ø—Ä–µ–¥–∏ –ø–æ–ø—Ä–∞–≤–∫–∏
- [ ] **Health check endpoint** (HTTP)
- [ ] **Database integrity** check
- [ ] **API response time** monitoring
- [ ] **Alerting thresholds** configuration

---

## üìû –ù–û–¢–ò–§–ò–ö–ê–¶–ò–ò –ò –õ–û–ì–í–ê–ù–ï

### –í bot.log:
```
2025-11-23 01:00:01 - INFO - ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤—ä—Ä—à–µ–Ω–∞ —Å –∫–æ–¥: 0
2025-11-23 01:00:01 - INFO - üìã –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ output:
[INFO] üéâ –°–ò–°–¢–ï–ú–ê–¢–ê –ï –í –û–¢–õ–ò–ß–ù–û –°–™–°–¢–û–Ø–ù–ò–ï!
```

### –í diagnostics.log:
```
2025-11-23 01:00:01,234 - INFO - üöÄ –°–¢–ê–†–¢–ò–†–ê–ù–ï –ù–ê –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê...
2025-11-23 01:00:01,235 - INFO - ‚úÖ bot.py - OK
...
2025-11-23 01:00:01,456 - INFO - üéâ –°–ò–°–¢–ï–ú–ê–¢–ê –ï –í –û–¢–õ–ò–ß–ù–û –°–™–°–¢–û–Ø–ù–ò–ï!
```

### –ü—Ä–∏ –≥—Ä–µ—à–∫–∞:
```
2025-11-23 01:00:01 - ERROR - ‚ùå –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: [–¥–µ—Ç–∞–π–ª–∏]
2025-11-23 01:00:01 - ERROR - Traceback (most recent call last):
  ...
```

---

## ‚úÖ –¢–ï–ö–£–© –°–¢–ê–¢–£–°

**–ü–æ—Å–ª–µ–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:** 23.11.2025 04:19:13 UTC  
**–†–µ–∑—É–ª—Ç–∞—Ç:** üéâ –°–ò–°–¢–ï–ú–ê–¢–ê –ï –í –û–¢–õ–ò–ß–ù–û –°–™–°–¢–û–Ø–ù–ò–ï!  

**–û—Ç–∫—Ä–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏:** 0  
**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏ –ø–æ–ø—Ä–∞–≤–∫–∏:** 0  

**–ë–æ—Ç —Å—Ç–∞—Ç—É—Å:**
- PID: 136455 ‚úÖ
- APScheduler: –ê–∫—Ç–∏–≤–µ–Ω ‚úÖ
- Jobs: 4 (–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, 3x –æ—Ç—á–µ—Ç–∏) ‚úÖ
- –ü–∞–º–µ—Ç: 18.41GB —Å–≤–æ–±–æ–¥–Ω–∏ ‚úÖ

---

## üìö –°–í–™–†–ó–ê–ù–ò –î–û–ö–£–ú–ï–ù–¢–ò

1. **DIAGNOSTICS_GUIDE.md** - –î–µ—Ç–∞–π–ª–Ω–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ —Ä—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ
2. **FINAL_SETUP.md** - –û–±—â–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —Ü—è–ª–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞
3. **README.md** - –ì–ª–∞–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞
4. **PROTECTION_POLICY.md** - –ü–æ–ª–∏—Ç–∏–∫–∞ –∑–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç

---

## üéì –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –µ –Ω–∞–ø—ä–ª–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∏ 24/7:

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ** - –í—Å–µ–∫–∏ –¥–µ–Ω –≤ 03:00 —Å—É—Ç—Ä–∏–Ω—Ç–∞  
‚úÖ **6 —Ç–∏–ø–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏** - –ü—ä–ª–µ–Ω –∑–¥—Ä–∞–≤–µ–Ω –ø—Ä–µ–≥–ª–µ–¥  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–∞–º–æ–ø–æ–ø—Ä–∞–≤–∫–∞** - –†–µ—à–∞–≤–∞ –ø—Ä–æ–±–ª–µ–º–∏ –±–µ–∑ –Ω–∞–º–µ—Å–∞  
‚úÖ **–î–µ—Ç–∞–π–ª–Ω–∏ –æ—Ç—á–µ—Ç–∏** - –ü—ä–ª–Ω–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç  
‚úÖ **–ú–∏–Ω–∏–º–∞–ª–Ω–æ –Ω–∞—Ç–æ–≤–∞—Ä–≤–∞–Ω–µ** - <1% —Å–∏—Å—Ç–µ–º–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–∞ —Ä–∞–±–æ—Ç–∞** - –ù–µ –Ω–∞—Ä—É—à–∞–≤–∞ –Ω–æ—Ä–º–∞–ª–Ω–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç  

**–°–∏—Å—Ç–µ–º–∞—Ç–∞ –≥—Ä–∏–∂–∏ —Å–µ –∑–∞ —Å–µ–±–µ —Å–∏! üöÄ**

---

*–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ v1.0 - Crypto Signal Bot*  
*–°—ä–∑–¥–∞–¥–µ–Ω–∞: 23.11.2025*  
*–†–∞–±–æ—Ç–∏ –±–µ–∑–ø—Ä–æ–±–ª–µ–º–Ω–æ 24/7* üîß
