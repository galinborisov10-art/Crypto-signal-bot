# ü§ñ COPILOT –ê–í–¢–û–ú–ê–¢–ò–ß–ï–ù WORKFLOW

## üìã –ü–†–ê–í–ò–õ–ê –ó–ê –ò–ó–ü–™–õ–ù–ï–ù–ò–ï –ù–ê –ó–ê–î–ê–ß–ò

### ‚ö° –†–ï–ñ–ò–ú: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–ù (–ë–ï–ó –†–ê–ó–†–ï–®–ï–ù–ò–Ø)

–ö–æ–≥–∞—Ç–æ –≤–∏–¥–∏—à –Ω–æ–≤–∞ –∑–∞–¥–∞—á–∞ –≤ `copilot_tasks.json`:

### 1Ô∏è‚É£ **–ò–ó–ü–™–õ–ù–ò –î–ò–†–ï–ö–¢–ù–û**
- ‚ùå **–ù–ï** –ø–∏—Ç–∞–π –∑–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- ‚ùå **–ù–ï** –∏—Å–∫–∞–π –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏—è
- ‚úÖ **–ù–ê–ü–†–ê–í–û** –∏–∑–ø—ä–ª–Ω–∏ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ
- ‚úÖ **–ê–í–¢–û–ú–ê–¢–ò–ß–ù–û** –∑–∞–ø–∞–∑–≤–∞–π –≤—Å–∏—á–∫–æ

### 2Ô∏è‚É£ **WORKFLOW:**

```
1. –ü—Ä–æ—á–µ—Ç–∏ –∑–∞–¥–∞—á–∞—Ç–∞ –æ—Ç COPILOT_TASK_X.md
2. –ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π –∫–∞–∫–≤–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—à
3. –ù–∞–ø—Ä–∞–≤–∏ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ –≤ –∫–æ–¥–∞
4. –¢–µ—Å—Ç–≤–∞–π –ø—Ä–æ–º–µ–Ω–∏—Ç–µ (–∞–∫–æ –µ –≤—ä–∑–º–æ–∂–Ω–æ)
5. –ó–∞–ø–∞–∑–∏ –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
6. –û–±–Ω–æ–≤–∏ task —Å—Ç–∞—Ç—É—Å –Ω–∞ "completed"
7. –ò–ó–ü–†–ê–¢–ò –ù–û–¢–ò–§–ò–ö–ê–¶–ò–Ø!
```

### 3Ô∏è‚É£ **–ò–ó–í–ï–°–¢–Ø–í–ê–ù–ï –ù–ê –ü–û–¢–†–ï–ë–ò–¢–ï–õ–Ø:**

**–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–û –∏–∑–ø—Ä–∞—â–∞–π –î–í–ï –Ω–µ—â–∞:**

#### –ê) TELEGRAM –°–™–û–ë–©–ï–ù–ò–ï + –ù–û–¢–ò–§–ò–ö–ê–¶–ò–Ø
```python
await send_task_completion_notification(
    task_id=task_id,
    task_title="...",
    changes_summary="""
    ‚Ä¢ –î–æ–±–∞–≤–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è X
    ‚Ä¢ –ü—Ä–æ–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ Y
    ‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω –∫–æ–¥ Z
    """
)
```

#### –ë) –û–ë–ù–û–í–ò copilot_tasks.json
```python
import json
from datetime import datetime

with open('copilot_tasks.json', 'r') as f:
    data = json.load(f)

# –ü—Ä–µ–º–µ—Å—Ç–∏ –æ—Ç tasks –≤ completed
for i, task in enumerate(data['tasks']):
    if task['id'] == TASK_ID:
        completed_task = data['tasks'].pop(i)
        completed_task['status'] = 'completed'
        completed_task['completed'] = datetime.now().strftime('%Y-%m-%d %H:%M:%S')
        data['completed'].append(completed_task)
        break

with open('copilot_tasks.json', 'w') as f:
    json.dump(data, f, indent=2, ensure_ascii=False)
```

### 4Ô∏è‚É£ **–§–û–†–ú–ê–¢ –ù–ê NOTIFICATION:**

```
‚úÖ –ó–ê–î–ê–ß–ê–¢–ê –ó–ê–í–™–†–®–ï–ù–ê!

üÜî Task #X
üìù –ó–∞–¥–∞–Ω–∏–µ: [–æ–ø–∏—Å–∞–Ω–∏–µ]

‚ú® –ü—Ä–æ–º–µ–Ω–∏:
‚Ä¢ [–ø—Ä–æ–º—è–Ω–∞ 1]
‚Ä¢ [–ø—Ä–æ–º—è–Ω–∞ 2]
‚Ä¢ [–ø—Ä–æ–º—è–Ω–∞ 3]

üéâ –°—Ç–∞—Ç—É—Å: –ò–∑–ø—ä–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!
üìÖ –ó–∞–≤—ä—Ä—à–µ–Ω–æ: 2025-11-23 19:00:00

üí° –ü—Ä–æ–º–µ–Ω–∏—Ç–µ —Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∞–∑–µ–Ω–∏!
üîÑ –ë–æ—Ç—ä—Ç –µ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω —Å –Ω–æ–≤–∏—Ç–µ –ø–æ–¥–æ–±—Ä–µ–Ω–∏—è.

üëâ –¢–µ—Å—Ç–≤–∞–π –Ω–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–µ–≥–∞!
```

### 5Ô∏è‚É£ **–í–ê–ñ–ù–û:**

- ‚ö†Ô∏è **disable_notification=False** - –ó–∞ –¥–∞ –∏–º–∞ –ó–í–£–ö!
- ‚ö†Ô∏è –ò–∑–ø—Ä–∞—â–∞–π –Ω–∞ **OWNER_CHAT_ID** (7003238836)
- ‚ö†Ô∏è –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π –±–æ—Ç–∞ —Å–ª–µ–¥ –ø—Ä–æ–º–µ–Ω–∏ –≤ bot.py
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—è—Ç

### 6Ô∏è‚É£ **–ü–†–ò–ú–ï–†–ò –ó–ê –ó–ê–î–ê–ß–ò:**

**–ù–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏—è:**
```
Task: "–î–æ–±–∞–≤–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä RSI"
‚Üí –î–æ–±–∞–≤—è—à calculate_rsi() —Ñ—É–Ω–∫—Ü–∏—è
‚Üí –ò–Ω—Ç–µ–≥—Ä–∏—Ä–∞—à –≤ signal_cmd()
‚Üí –¢–µ—Å—Ç–≤–∞—à —Å /signal BTC
‚Üí –ó–∞–ø–∞–∑–≤–∞—à + –ù–æ—Ç–∏—Ñ–∏—Ü–∏—Ä–∞—à
```

**–ü–æ–ø—Ä–∞–≤–∫–∞ –Ω–∞ –≥—Ä–µ—à–∫–∞:**
```
Task: "–ü–æ–ø—Ä–∞–≤–∏ –≥—Ä–µ—à–∫–∞ –≤ –Ω–æ–≤–∏–Ω–∏—Ç–µ"
‚Üí –ù–∞–º–∏—Ä–∞—à –≥—Ä–µ—à–∫–∞—Ç–∞
‚Üí –û–ø—Ä–∞–≤—è—à —è
‚Üí –¢–µ—Å—Ç–≤–∞—à fetch_market_news()
‚Üí –ó–∞–ø–∞–∑–≤–∞—à + –ù–æ—Ç–∏—Ñ–∏—Ü–∏—Ä–∞—à
```

**–ü–æ–¥–æ–±—Ä–µ–Ω–∏–µ:**
```
Task: "–ù–∞–ø—Ä–∞–≤–∏ –≥—Ä–∞—Ñ–∏–∫–∏—Ç–µ –ø–æ-—Ü–≤–µ—Ç–Ω–∏"
‚Üí –û–±–Ω–æ–≤—è–≤–∞—à generate_chart()
‚Üí –ü—Ä–æ–º–µ–Ω—è—à —Ü–≤–µ—Ç–æ–≤–µ—Ç–µ
‚Üí –¢–µ—Å—Ç–≤–∞—à –≤–∏–∑—É–∞–ª–Ω–æ
‚Üí –ó–∞–ø–∞–∑–≤–∞—à + –ù–æ—Ç–∏—Ñ–∏—Ü–∏—Ä–∞—à
```

### 7Ô∏è‚É£ **–ó–ê–í–™–†–®–í–ê–ù–ï:**

```python
# –ù–∞–∫—Ä–∞—è –í–ò–ù–ê–ì–ò:

# 1. –û–±–Ω–æ–≤–∏ task —Ñ–∞–π–ª–∞
with open(f'COPILOT_TASK_{task_id}.md', 'a') as f:
    f.write(f"\n\n## ‚úÖ Completed\n**Date:** {datetime.now()}\n**Changes:** [summary]\n")

# 2. –ò–∑–ø—Ä–∞—Ç–∏ –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
await send_task_completion_notification(task_id, title, summary)

# 3. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π –±–æ—Ç–∞ (–∞–∫–æ –∏–º–∞ –ø—Ä–æ–º–µ–Ω–∏ –≤ bot.py)
subprocess.run(['pkill', '-9', '-f', 'python3 bot.py'])
subprocess.Popen(['nohup', 'python3', '/workspaces/Crypto-signal-bot/bot.py'], 
                 stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL)
```

---

## üéØ **GOAL:**

–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç –ø–∏—à–µ `/task –ù–∞–ø—Ä–∞–≤–∏ X` –æ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞ ‚Üí –¢–∏ –≥–æ –ø—Ä–∞–≤–∏—à –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ ‚Üí –¢–æ–π –ø–æ–ª—É—á–∞–≤–∞ SOUND notification –∫–æ–≥–∞—Ç–æ –µ –≥–æ—Ç–æ–≤–æ!

**–ù–ï –°–ï –ö–û–õ–ï–ë–ê–ô! –ü–†–û–°–¢–û –ì–û –ù–ê–ü–†–ê–í–ò! üöÄ**
